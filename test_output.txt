============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.1, pluggy-1.6.0 -- /home/fahimaloy/Projects/cj36/backend/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/fahimaloy/Projects/cj36/backend
configfile: pyproject.toml
plugins: anyio-4.11.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 38 items

tests/test_api.py::test_root PASSED                                      [  2%]
tests/test_api.py::test_create_user_by_admin PASSED                      [  5%]
tests/test_api.py::test_create_user_by_non_admin PASSED                  [  7%]
tests/test_api.py::test_read_users_by_admin PASSED                       [ 10%]
tests/test_api.py::test_read_users_by_maintainer PASSED                  [ 13%]
tests/test_api.py::test_read_users_by_writer PASSED                      [ 15%]
tests/test_api.py::test_read_single_user_by_admin PASSED                 [ 18%]
tests/test_api.py::test_read_single_user_by_writer PASSED                [ 21%]
tests/test_api.py::test_update_user_by_admin PASSED                      [ 23%]
tests/test_api.py::test_update_user_by_non_admin PASSED                  [ 26%]
tests/test_api.py::test_delete_user_by_admin PASSED                      [ 28%]
tests/test_api.py::test_delete_user_by_non_admin PASSED                  [ 31%]
tests/test_api.py::test_login_for_access_token PASSED                    [ 34%]
tests/test_api.py::test_create_category_by_maintainer PASSED             [ 36%]
tests/test_api.py::test_create_category_by_writer PASSED                 [ 39%]
tests/test_api.py::test_read_categories_public PASSED                    [ 42%]
tests/test_api.py::test_read_categories_by_maintainer PASSED             [ 44%]
tests/test_api.py::test_read_single_category_by_public PASSED            [ 47%]
tests/test_api.py::test_update_category_by_admin PASSED                  [ 50%]
tests/test_api.py::test_update_category_by_maintainer PASSED             [ 52%]
tests/test_api.py::test_delete_category_by_admin PASSED                  [ 55%]
tests/test_api.py::test_delete_category_by_maintainer PASSED             [ 57%]
tests/test_api.py::test_create_post_by_writer_pending PASSED             [ 60%]
tests/test_api.py::test_create_post_by_writer_published PASSED           [ 63%]
tests/test_api.py::test_read_posts_anonymous PASSED                      [ 65%]
tests/test_api.py::test_read_posts_writer PASSED                         [ 68%]
tests/test_api.py::test_read_posts_maintainer PASSED                     [ 71%]
tests/test_api.py::test_read_single_post_anonymous PASSED                [ 73%]
tests/test_api.py::test_update_post_by_writer_own_post PASSED            [ 76%]
tests/test_api.py::test_update_post_by_writer_other_post PASSED          [ 78%]
tests/test_api.py::test_update_post_status_by_maintainer PASSED          [ 81%]
tests/test_api.py::test_update_post_status_by_writer PASSED              [ 84%]
tests/test_api.py::test_delete_post_by_writer_own_post PASSED            [ 86%]
tests/test_api.py::test_delete_post_by_writer_other_post PASSED          [ 89%]
tests/test_api.py::test_read_posts_by_category PASSED                    [ 92%]
tests/test_api.py::test_read_posts_by_topic PASSED                       [ 94%]
tests/test_api.py::test_read_posts_pagination_filtering PASSED           [ 97%]
tests/test_api.py::test_create_post_with_image PASSED                    [100%]

=============================== warnings summary ===============================
tests/test_api.py: 64 warnings
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/users.py:100: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    user = db.query(User).filter(User.username == form_data.username).first()

tests/test_api.py: 81 warnings
  /home/fahimaloy/Projects/cj36/backend/src/cj36/dependencies/__init__.py:35: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    user = db.query(User).filter(User.username == username).first()

tests/test_api.py::test_create_user_by_admin
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/users.py:23: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    db_user = db.query(User).filter(User.username == user.username).first()

tests/test_api.py::test_read_users_by_admin
tests/test_api.py::test_read_users_by_maintainer
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/users.py:44: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    users = db.query(User).all()

tests/test_api.py::test_update_user_by_admin
tests/test_api.py::test_create_post_by_writer_published
tests/test_api.py::test_update_post_status_by_maintainer
tests/test_api.py::test_update_post_status_by_writer
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/users.py:70: DeprecationWarning: 
          ðŸš¨ `obj.dict()` was deprecated in SQLModel 0.0.14, you should
          instead use `obj.model_dump()`.
          
    user_data = user_in.dict(exclude_unset=True)

tests/test_api.py: 27 warnings
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/categories.py:21: DeprecationWarning: 
          ðŸš¨ `obj.from_orm(data)` was deprecated in SQLModel 0.0.14, you should
          instead use `obj.model_validate(data)`.
          
    db_category = Category.from_orm(category)

tests/test_api.py::test_read_categories_public
tests/test_api.py::test_read_categories_by_maintainer
tests/test_api.py::test_read_single_category_by_public
tests/test_api.py::test_update_category_by_admin
tests/test_api.py::test_update_category_by_maintainer
tests/test_api.py::test_delete_category_by_admin
tests/test_api.py::test_delete_category_by_maintainer
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/categories.py:35: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    categories = db.query(Category).offset(skip).limit(limit).all()

tests/test_api.py: 14 warnings
  /home/fahimaloy/Projects/cj36/backend/src/cj36/dependencies/__init__.py:53: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    user = db.query(User).filter(User.username == username).first()

tests/test_api.py::test_update_category_by_admin
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/categories.py:61: DeprecationWarning: 
          ðŸš¨ `obj.dict()` was deprecated in SQLModel 0.0.14, you should
          instead use `obj.model_dump()`.
          
    category_data = category.dict(exclude_unset=True)

tests/test_api.py: 28 warnings
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/posts.py:29: DeprecationWarning: 
          ðŸš¨ You probably want to use `session.exec()` instead of `session.query()`.
  
          `session.exec()` is SQLModel's own short version with increased type
          annotations.
  
          Or otherwise you might want to use `session.execute()` instead of
          `session.query()`.
          
    topics = db.query(Category).where(Category.id.in_(topic_ids)).all()

tests/test_api.py: 56 warnings
  /home/fahimaloy/Projects/cj36/backend/.venv/lib/python3.12/site-packages/pydantic/fields.py:747: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return fac()

tests/test_api.py::test_update_post_by_writer_own_post
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/posts.py:187: DeprecationWarning: 
          ðŸš¨ `obj.dict()` was deprecated in SQLModel 0.0.14, you should
          instead use `obj.model_dump()`.
          
    post_data = post_in.dict(exclude_unset=True)

tests/test_api.py::test_delete_post_by_writer_own_post
  /home/fahimaloy/Projects/cj36/backend/src/cj36/api/v1/posts.py:218: DeprecationWarning: 
          ðŸš¨ `obj.from_orm(data)` was deprecated in SQLModel 0.0.14, you should
          instead use `obj.model_validate(data)`.
          
    post_read = PostRead.from_orm(db_post)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
====================== 38 passed, 287 warnings in 44.76s =======================
